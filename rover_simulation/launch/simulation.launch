<launch>

  <!-- Load Gazebo with empty world -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="paused" value="false"/>
    <arg name="use_sim_time" value="true"/>
  </include>

  <!-- Load robot description -->
  <param name="robot_description"
         command="$(find xacro)/xacro $(find rover_simulation)/urdf/rover_gazebo.xacro" />

  <!-- Spawn model -->
  <node pkg="gazebo_ros" type="spawn_model"
        name="spawn_rover" output="screen"
        args="-param robot_description -model rover"/>

  <!-- Controllers -->
  <rosparam file="$(find rover_simulation)/config/controllers.yaml" command="load"/>

  <node pkg="controller_manager" type="spawner" name="controller_spawner"
        args="joint_state_controller
              front_left_wheel_velocity_controller
              front_right_wheel_velocity_controller
              center_left_wheel_velocity_controller
              center_right_wheel_velocity_controller
              rear_left_wheel_velocity_controller
              rear_right_wheel_velocity_controller
              front_left_steer_controller
              front_right_steer_controller
              rear_left_steer_controller
              rear_right_steer_controller
              arm_joint1_position_controller
              arm_joint2_position_controller
              arm_joint3_position_controller
              arm_joint4_position_controller
              arm_joint5_position_controller"/>
</launch>
